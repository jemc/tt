#!/usr/bin/bash

function update_time {
  curr_date=$(date +"%a %b %d %Y")
  curr_time=$(date +"%H:%M:%S")
  curr_secs=$(date +"%s")
}

function create_entry {
  last_date=$curr_date
  last_time=$curr_time
  last_secs=$curr_secs
  update_entry
}

function calc_duration {
  diff=$((curr_secs-last_secs))
  duration=$(date -u -d @"$diff" +"%H:%M:%S")
}

function update_entry {
  calc_duration
  curr_entry="${duration} | ${last_date} | ${last_time} - ${curr_time}"
}

function do_over {
  echo -ne "\033[1A"
}

update_time
create_entry
echo "$curr_entry"
sleep 1

update_time
update_entry
do_over
echo "$curr_entry"
